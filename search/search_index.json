{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Pr\u00e1cticas realizadas por Manuel Pe\u00f1as Redondo 2\u00ba DESARROLLO APLICACIONES WEB","text":""},{"location":"practica2_1/","title":"Pr\u00e1ctica 2.1 \u2013 Instalaci\u00f3n y configuraci\u00f3n de servidor web Nginx","text":"<p>Pr\u00e1ctica realizada por Manuel Pe\u00f1as Redondo 2\u00ba DAW - B</p>"},{"location":"practica2_1/#instalacion-servidor-web-nginx","title":"Instalaci\u00f3n servidor web Nginx","text":"<p>Lo primero es actualizar los repositorios. </p> <p></p> <p>Se instala el paquete de nginx. </p> <p></p> <p>Se comprueba que est\u00e1 bien instalado y se reinicia. </p> <p></p>"},{"location":"practica2_1/#creacion-de-las-carpeta-del-sitio-web","title":"Creaci\u00f3n de las carpeta del sitio web","text":"<p>Se crea la carpeta donde se almacenar\u00e1 el sitio web con el comando sudo mkdir -p /var/www/nombre_web/html y se clona el repositorio. Si da fallo por el git es porque hay que instalar su paquete. </p> <p></p> <p>Se le da la propiedad de la carpeta al usuario del servicio web y se le dan los permisos. </p> <p></p> <p>Se busca la ip para comprobar el funcionamiento. </p> <p></p> <p>Desde Windows en este caso se comprueba que el servidor funciona. </p> <p></p>"},{"location":"practica2_1/#configuracion-de-servidor-web-nginx","title":"Configuraci\u00f3n de servidor web NGINX","text":"<p>Para configurar el servidor se modifican primero los archivos de los hots virtuales a\u00f1adiendo las siguientes l\u00edneas. </p> <p></p> <p>Y se crea el archivo simb\u00f3lico entre los sitios habilitados y dicho art\u00edculo modificado. </p> <p>Por \u00faltimo se reinicia para que se aplique la modificaci\u00f3n. </p>"},{"location":"practica2_1/#comprobaciones","title":"Comprobaciones","text":""},{"location":"practica2_1/#comprobacion-del-correcto-funcionamiento","title":"Comprobaci\u00f3n del correcto funcionamiento","text":"<p>Lo primero es modificar el archivo hosts de Windows a\u00f1adiendo la IP de la m\u00e1quina virtual. </p> <p></p>"},{"location":"practica2_1/#comprobar-registros-del-servidor","title":"Comprobar registros del servidor","text":"<p>Ahora se comprueban los archivos logs y sus rutas. Primero los de acceso: </p> <p></p> <p>Y luego los de error: </p> <p></p>"},{"location":"practica2_1/#ftp","title":"FTP","text":""},{"location":"practica2_1/#configurar-servidor-sftp-en-debian","title":"Configurar servidor SFTP en Debian","text":"<p>Primero se instala. </p> <p></p> <p>Se crea la carpeta para almacenarlo y los certificados de seguridad. </p> <p></p> <p>Se modifica el fichero de configuraci\u00f3n y se a\u00f1aden las siguientes l\u00edneas. </p> <p></p> <p>Ahora para la comprobaci\u00f3n se descarga Filezilla en Windows y se introducen los datos de la m\u00e1quina virtual y el puerto 21 y se le da a conexi\u00f3n r\u00e1pida. </p> <p></p> <p>Si se conecta saldr\u00e1 los directorios de la m\u00e1quina virtual en la derecha. </p> <p></p> <p>Se clica en la carpeta descargas y se ve la conexi\u00f3n donde se sube alg\u00fan archivo. </p> <p></p> <p>Se descarga el paquete para descomprimir ZIP si no se tiene. </p> <p></p>"},{"location":"practica2_1/#https","title":"HTTPS","text":"<p>Se genera el certificado SSL y la clave privada. </p> <p></p> <p>Se crea el fichero Diffie-Hellman. </p> <p></p> <p>Se modifica a\u00f1adiendo las siguientes l\u00edneas. </p> <p></p> <p>Se crea otro archivo para dar m\u00e1s seguridad con las siguientes l\u00edneas. </p> <p></p> <p>Por \u00faltimo se modifica el nginx para HTTPS con las siguientes l\u00edneas. </p> <p></p> <p>Se guarda el archivo y se reinicia. </p> <p></p> <p>Se comprueban los ficheros de accesso y de error para visualizar la conexi\u00f3n. </p> <p></p>"},{"location":"practica2_1/#cuestiones-finales","title":"Cuestiones finales","text":""},{"location":"practica2_1/#1-que-pasa-si-no-hago-el-link-simbolico-entre-sites-available-y-sites-enabled-de-mi-sitio-web","title":"1. \u00bfQu\u00e9 pasa si no hago el link simb\u00f3lico entre sites-available y sites-enabled de mi sitio web?","text":"<p>Si no haces el link simb\u00f3lico, Nginx no sabr\u00e1 que el sitio web est\u00e1 disponible para servir, y no se podr\u00e1 acceder a \u00e9l.</p>"},{"location":"practica2_1/#2-que-pasa-si-no-le-doy-los-permisos-adecuados-a-varwwwnombre_web","title":"2. \u00bfQu\u00e9 pasa si no le doy los permisos adecuados a /var/www/nombre_web?","text":"<p>Sin los permisos adecuados, Nginx no podr\u00e1 servir tu sitio web, y se expondr\u00e1 a problemas de seguridad. </p>"},{"location":"practica2_2/","title":"Pr\u00e1ctica 2.2 - Autenticaci\u00f3n en un servidor web Nginx","text":""},{"location":"practica2_2/#paquetes-necesarios","title":"Paquetes necesarios","text":"<p>Primero se comprueba que est\u00e9 el paquete openssl instalado.  </p>"},{"location":"practica2_2/#creacion-de-usuarios-y-contrasenas","title":"Creaci\u00f3n de usuarios y contrase\u00f1as","text":"<p>Se crea los dos usuarios, aunque mi apellido es Pe\u00f1as lo he puesto sin \u00f1 para evitar errores y se crea una contrase\u00f1a cifrada.  </p> <p>Se comprueba que est\u00e9 correctamente cifrado.  </p>"},{"location":"practica2_2/#autentificacion-basica","title":"Autentificaci\u00f3n b\u00e1sica","text":"<p>Se modifica el fichero de configuraci\u00f3n para que pida autentificaci\u00f3n al acceder.  </p>"},{"location":"practica2_2/#comprobacion","title":"Comprobaci\u00f3n","text":"<p>Como se puede comprobar pide usuario y contrase\u00f1a al acceder. </p> <p>Este es el mensaje que se muestra si no introduces alg\u00fan dato correcto.  </p> <p>Aqu\u00ed se pueden comprobar los accesos correctos y err\u00f3neos de antes.  </p>"},{"location":"practica2_2/#tareas","title":"Tareas","text":"<p>Ahora para pedir autentificaci\u00f3n de una parte de la p\u00e1gina lo hacemos con la parte contactos, modificamos el archivo de configuraci\u00f3n para que la pida ah\u00ed.  </p> <p>Como se puede observar te pide autentificaci\u00f3n y al acceder muestra la p\u00e1gina de contactos.  </p>"},{"location":"practica2_2/#tareas-combinacion-autentificacion-y-restriccion-por-ip","title":"Tareas combinaci\u00f3n autentificaci\u00f3n y restricci\u00f3n por IP","text":"<p>Primero se busca la ip de Windows y luego en el archivo de antes se le deniega el acceso.  </p> <p>Y esto es lo que sale al intentar acceder y en el fichero de error de acceso.  </p> <p>Por \u00faltimo se permite el acceso a una ip y se bloquea a las dem\u00e1s y se verifica que se puede acceder.  </p>"},{"location":"practica2_2/#cuestiones-finales","title":"Cuestiones finales","text":""},{"location":"practica2_2/#supongamos-que-yo-soy-el-cliente-con-la-ip-17211015-e-intento-acceder-al-directorio-web_muy_guay-de-mi-sitio-web-equivocandome-al-poner-el-usuario-y-contrasena-podre-accederpor-que","title":"Supongamos que yo soy el cliente con la IP 172.1.10.15 e intento acceder al directorio web_muy_guay de mi sitio web, equivoc\u00e1ndome al poner el usuario y contrase\u00f1a. \u00bfPodr\u00e9 acceder?\u00bfPor qu\u00e9?","text":"<p>No podr\u00e1s acceder porque la directiva satisfy all, obliga a que tanto la autentificaci\u00f3n como la IP deben ser correctas. Y en este caso aunque esa IP s\u00ed este permitida el usuario ser\u00eda err\u00f3neo </p>"},{"location":"practica2_2/#ask-cuestion-1-supongamos-que-yo-soy-el-cliente-con-la-ip-17211015-e-intento-acceder-al-directorio-web_muy_guay-de-mi-sitio-web-introduciendo-correctamente-usuari-y-contrasena-podre-accederpor-que","title":"ask \"Cuesti\u00f3n 1\" Supongamos que yo soy el cliente con la IP 172.1.10.15 e intento acceder al directorio web_muy_guay de mi sitio web, introduciendo correctamente usuari y contrase\u00f1a. \u00bfPodr\u00e9 acceder?\u00bfPor qu\u00e9?","text":"<p>En este caso s\u00ed podr\u00e1s acceder porque se cumple que tanto la IP como la autentificaci\u00f3n son correctos. </p>"},{"location":"practica2_2/#supongamos-que-yo-soy-el-cliente-con-la-ip-17211015-e-intento-acceder-al-directorio-web_muy_guay-de-mi-sitio-web-introduciendo-correctamente-usuario-y-contrasena-podre-accederpor-que","title":"Supongamos que yo soy el cliente con la IP 172.1.10.15 e intento acceder al directorio web_muy_guay de mi sitio web, introduciendo correctamente usuario y contrase\u00f1a. \u00bfPodr\u00e9 acceder?\u00bfPor qu\u00e9?","text":"<p>En este caso no podr\u00e1s acceder porque la directiva any s\u00f3lo permite que se cumpla una de las dos condiciones y en este caso tanto la IP como la autentificaci\u00f3n son correctos. </p>"},{"location":"practica2_2/#a-lo-mejor-no-sabeis-que-tengo-una-web-para-documentar-todas-mis-excursiones-espaciales-con-jeff-es-esta-jeff-bezos-y-yo-supongamos-que-quiero-restringir-el-acceso-al-directorio-de-proyectos-porque-es-muy-secreto-eso-quiere-decir-anadir-autenticacion-basica-a-la-urlproyecto-completa-la-configuracion-para-conseguirlo","title":"A lo mejor no sab\u00e9is que tengo una web para documentar todas mis excursiones espaciales con Jeff, es esta: Jeff Bezos y yo.  Supongamos que quiero restringir el acceso al directorio de proyectos porque es muy secreto, eso quiere decir a\u00f1adir autenticaci\u00f3n b\u00e1sica a la URL:Proyecto. Completa la configuraci\u00f3n para conseguirlo:","text":"<p>server {     listen 80;     listen [::]:80;     root /var/www/freewebsitetemplates.com/preview/space-science;     index index.html index.htm index.nginx-debian.html;     server_name freewebsitetemplates.com www.freewebsitetemplates.com;</p> <pre><code>location /Projects {\n    auth_basic \"Acceso restringido\";\n    auth_basic_user_file /etc/nginx/.htpasswd;\n\n    try_files $uri $uri/ =404;\n}\n</code></pre> <p>}</p> <p>Se le a\u00f1ade la localizaci\u00f3n de los proyectos y se indica la autentificaci\u00f3n </p>"},{"location":"practica2_3/","title":"Pr\u00e1ctica 2.3 \u2013 Proxy inverso con Nginx","text":""},{"location":"practica2_3/#clonacion","title":"Clonaci\u00f3n","text":"<p>Primero se clona la m\u00e1quina generando nuevas direcciones MAC.  </p>"},{"location":"practica2_3/#modificacion-servidor","title":"Modificaci\u00f3n servidor","text":"<p>En la m\u00e1quina donde estaba el servidor se le cambia el nombre a webserver al archivo de configuraci\u00f3n, se le cambia el puerto por el 8080 y se le a\u00f1ade un header para la futura comprobaci\u00f3n.  </p> <p> Finalmente se elimina el enlace simb\u00f3lico que hab\u00eda y se crea uno nuevo, luego se reinicia nginx.  </p>"},{"location":"practica2_3/#modificacion-hosts","title":"Modificaci\u00f3n Hosts","text":"<p>En el hosts de Windows se cambia la IP por la nueva m\u00e1quina que va a hacer de proxy y se cambia el nombre. </p>"},{"location":"practica2_3/#modificacion-proxy","title":"Modificaci\u00f3n PROXY","text":"<p> Se crea un fichero de archivo nuevo donde se mantiene el puerto 80, el nombre se le asigna el del hosts y en location se le a\u00f1ade un header y la direcci\u00f3n donde se redirige.   Tambi\u00e9n se le a\u00f1ade al hosts de la m\u00e1quina con la ip del servidor.  </p>"},{"location":"practica2_3/#comprobaciones","title":"Comprobaciones","text":"<p>Por \u00faltimo se comprueba buscando en Firefox, pulsando F12, en red desactivando la cach\u00e9 y pulsando en el primero. Y en las cabeceras se ve ambos header antes a\u00f1adidos. Tambi\u00e9n se comprueba el access.log para verificar que se han conectado.  </p>"},{"location":"practica2_4/","title":"Pr\u00e1ctica 2.4 \u2013 Balanceo de carga con proxy inverso en Nginx","text":""},{"location":"practica2_4/#pasos-iniciales","title":"Pasos iniciales","text":"<p>Lo primero es eliminar los dos enlaces simb\u00f3licos de ambas m\u00e1quinas.  </p>"},{"location":"practica2_4/#nginx-servidor-web-1","title":"Nginx Servidor Web 1","text":"<p>Se crea el index.html para el servidor original en la ruta /var/www/manuel_web/html.   Se modifica el nombre a webserver1 y se le cambia la ruta para que coja el html. Se le a\u00f1ade tambi\u00e9n la cabecera de servidor1, se crea el enlace simb\u00f3lico nuevo como en las pr\u00e1cticas pasadas y se reinicia nginx.  </p>"},{"location":"practica2_4/#nginx-servidor-web-2","title":"Nginx Servidor Web 2","text":"<p>Primero se clona la m\u00e1quina virtual del servidor web 1.   Se modifica todo lo que ven\u00eda de webserver1 por el 2 incluida la cabecera e index.html. Se crea el enlace simb\u00f3lico y se reinicia nginx y ya estar\u00edan creados ambos servidores.  </p>"},{"location":"practica2_4/#nginx-proxy-inverso","title":"Nginx Proxy Inverso","text":"<p>Se crea un nuevo fichero de configuraci\u00f3n llamado balanceo, se a\u00f1ade lo siguiente a\u00f1adiendo las ip y sus puertos de los dos servidores web, el nombre de este proxy nuevo y la direcci\u00f3n que redirige.    upstream backend_hosts {                 random;                 server _:_;                 server _:__;     }             server {                 listen 80;                 server_name _;                     location / {                     proxy_pass http://backend_hosts;                 }             }  </p> <p>Se a\u00f1ade las ip al fichero hosts de est\u00e1 maquina y al de la m\u00e1quina anfitriona.  </p>"},{"location":"practica2_4/#comprobaciones","title":"Comprobaciones","text":"<p>Por \u00faltimo se comprueba ejecutando http://balanceo.local y el random de antes hace que de forma aleatoria unas veces se env\u00ede a un servidor o otro. Aqu\u00ed se puede ver con sus cabeceras.   En el caso de apagar el 2 por ejemplo pues sigue mand\u00e1ndolo al que queda vivo que es el 1 en este caso.  </p>"},{"location":"practica2_4/#cuestiones-finales","title":"Cuestiones Finales","text":""},{"location":"practica2_4/#cuestion-1-busca-informacion-de-que-otros-metodos-de-balanceo-se-pueden-aplicar-con-nginx-y-describe-al-menos-3-de-ellos","title":"Cuesti\u00f3n 1. Busca informaci\u00f3n de qu\u00e9 otros m\u00e9todos de balanceo se pueden aplicar con Nginx y describe al menos 3 de ellos.","text":"<p>IP Hash: Este m\u00e9todo utiliza la direcci\u00f3n IP del cliente para determinar a qu\u00e9 servidor de back-end se asignar\u00e1 la solicitud. Esto garantiza que un usuario espec\u00edfico siempre sea dirigido al mismo servidor, lo cual es \u00fatil en casos donde se desea mantener la persistencia de sesi\u00f3n (session affinity). </p> <p>Round Robin: Este es el m\u00e9todo predeterminado y asigna las solicitudes a los servidores de back-end de forma secuencial. Cada solicitud se env\u00eda al siguiente servidor en la lista, distribuyendo la carga uniformemente entre todos los servidores. Si uno de los servidores falla, Nginx simplemente lo omite y pasa al siguiente servidor disponible.</p> <p>Least Connections: Este m\u00e9todo env\u00eda la solicitud al servidor con la menor cantidad de conexiones activas. Es ideal en situaciones donde el tiempo de procesamiento de las solicitudes puede variar, ya que ayuda a evitar la sobrecarga de un servidor con demasiadas conexiones. </p>"},{"location":"practica2_4/#cuestion-2-si-quiero-anadir-2-servidores-web-mas-al-balanceo-de-carga-describe-detalladamente-que-configuracion-habria-que-anadir-y-donde","title":"Cuesti\u00f3n 2. Si quiero a\u00f1adir 2 servidores web m\u00e1s al balanceo de carga, describe detalladamente qu\u00e9 configuraci\u00f3n habr\u00eda que a\u00f1adir y d\u00f3nde.","text":"<p> En ese bloque se a\u00f1adir\u00edan en el upstream los dos servidores nuevos con su IP y puerto y en el fichero hosts igual. </p>"},{"location":"practica2_4/#cuestion-3-describe-todos-los-pasos-que-deberiamos-seguir-y-configurar-para-realizar-el-balanceo-de-carga-con-una-de-las-webs-de-practicas-anteriores","title":"Cuesti\u00f3n 3. Describe todos los pasos que deber\u00edamos seguir y configurar para realizar el balanceo de carga con una de las webs de pr\u00e1cticas anteriores.","text":"<p>Indicad la configuraci\u00f3n de todas las m\u00e1quinas (webservers, proxy...) y de sus servicios Lo primero ser\u00eda crear un fichero index.html igual en la misma ruta de dicha m\u00e1quina pero indicando que es el servidor 3. Luego se crear\u00eda el fichero de configuraci\u00f3n igual llamado webserver3 e indicando la nueva cabecera tambi\u00e9n. Se crear\u00eda el enlace simb\u00f3lico y se reinicia Nginx.</p> <p>Por \u00faltimo en el servidor de balanceo se a\u00f1ade el nuevo servidor en el archivo del apartado anterior y se a\u00f1ade la ip al fichero hosts</p>"},{"location":"practica2_5/","title":"Practica 2.5 - Proxy inverso y balanceo de carga con SSL en NGINX","text":""},{"location":"practica2_5/#creacion-de-certificado-autofirmado","title":"Creaci\u00f3n de certificado autofirmado","text":"<p>Lo primero es crear la carpeta ssl donde se guardar\u00e1 los certificados y ser\u00e1 en /etc/nginx .  </p> <p>Luego se crear\u00e1 el certificado con el comando de la imagen y se rellenan los datos.  </p>"},{"location":"practica2_5/#configuracion-ssl-en-el-proxy-inverso","title":"Configuraci\u00f3n SSL en el proxy inverso","text":"<p>Se modifica el archivo de configuraci\u00f3n cambiendo el puerto de escucha, a\u00f1adiendo las l\u00edneas de certificados y se cambia la ruta del access.log .  </p>"},{"location":"practica2_5/#comprobaciones","title":"Comprobaciones","text":"<p>Se accede a la direcci\u00f3n y salta el aviso de que no es seguro, se accede igualmente y se comprueba el certificado.  </p> <p>Se miran los detalles y se comprueba que son los datos creados antes.  </p>"},{"location":"practica2_5/#redireccion-forzosa-a-https","title":"Redirecci\u00f3n forzosa a HTTPS","text":"<p>Se le a\u00f1ade la siguiente configuraci\u00f3n para forzar que use https siempre que se acceda.  </p> <p>Si se le quita el puerto 80 se comprueba que sigue accediendo igualmente por https.  </p>"},{"location":"practica2_5/#cuestiones-finales","title":"Cuestiones finales","text":""},{"location":"practica2_5/#cuestion-1","title":"Cuesti\u00f3n 1.","text":"<p>Lo primero es comprobar las rutas y que los permisos son correctos, para este caso posiblemente las instrucciones a dar son:  sudo chown www-data:www-data /etc/nginx/ssl/enrico-berlinguer/server.</p> <p>sudo chmod 600 /etc/nginx/ssl/enrico-berlinguer/server.</p> <p>Algunos navegadores y clientes m\u00e1s antiguos no son compatibles con TLSv1.3, por lo tanto hay que agregar TLSv1.2 como protocolo adicional para asegurar la compatibilidad.</p> <p>Hay que comprobar que la l\u00ednea server_name enrico-berlinguer coincida con el dominio o la IP que est\u00e1s usando para acceder al sitio. </p>"},{"location":"practica2_5/#cuestion-2","title":"Cuesti\u00f3n 2.","text":"<p>Esto indica que el certificado SSL del sitio web ha sido revocado por la autoridad de certificaci\u00f3n. Lo primero que se puede hacer es intentar uno generar uno nuevo o contactar con la autoridad para saber el motivo del revocamiento. Despu\u00e9s se instala el nuevo certificado actualizando Nginx y sustituyendo las rutas del anterior por la del nuevo. Si el revocado sigue en uso hay que eliminarlo para poder instalar el nuevo, comprobando la cach\u00e9 del navegador porque a veces se queda ah\u00ed guardado.</p>"},{"location":"practica3_1/","title":"Pr\u00e1ctica 3.1: Instalaci\u00f3n de Tomcat","text":""},{"location":"practica3_1/#instalacion-de-tomcat","title":"Instalaci\u00f3n de Tomcat","text":"<p>Lo primero es instalar el jdk y tomcat en su versi\u00f3n 10.  </p>"},{"location":"practica3_1/#despliegue-manual-mediante-la-gui-de-administracion","title":"Despliegue manual mediante la GUI de administraci\u00f3n","text":"<p>Para desplegarlo se crea los usuarios de registro.   Se accede desde la url de la captura iniciando sesi\u00f3n con los datos de antes.   En la siguiente secci\u00f3n se le da a browse y se selecciona el .war y se ejecuta luego y se muestra el contenido del archivo.  </p>"},{"location":"practica3_1/#despliegue-con-maven","title":"Despliegue con Maven","text":"<p>Ahora se instala maven con los siguientes comandos y se comprueba la versi\u00f3n.  sudo apt update  sudo apt install maven </p>"},{"location":"practica3_1/#configuracion-de-maven","title":"Configuraci\u00f3n de Maven","text":"<p>Ahora se configura con un nuevo usuario y sus roles.  En el archivo /etc/maven/settings.xml se le a\u00f1ade los siguiente.   Y luego en el pom.xml del proyecto.  </p>"},{"location":"practica3_1/#despliegue","title":"Despliegue","text":"<p>Para desplegarlo se crea la aplicaci\u00f3n de Java con el siguiente comando y se despliega.  mvn archetype:generate -DgroupId=usuariodebian -DartifactId=war-deploy -DarchetypeArtifactId=maven-archetype-webapp -DinteractiveMode=false </p> <p>mvn tomcat7:deploy  Se comprueba que se ha desplegado </p>"},{"location":"practica3_1/#tarea","title":"Tarea","text":"<p>Se clona el repositorio y se modifica el pom.xml a\u00f1adiendo el bloque <code>&lt;plugin&gt;...&lt;/plugin&gt;</code> y se comprueba el resultado.  </p>"},{"location":"practica3_1/#cuestiones-habeis-visto-que-los-archivos-de-configuracion-que-hemos-tocado-contienen-contrasenas-en-texto-plano-por-lo-que-cualquiera-con-acceso-a-ellos-obtendria-las-credenciales-de-nuestras-herramientas","title":"Cuestiones. Hab\u00e9is visto que los archivos de configuraci\u00f3n que hemos tocado contienen contrase\u00f1as en texto plano, por lo que cualquiera con acceso a ellos obtendr\u00eda las credenciales de nuestras herramientas.","text":"<p>En principio esto representa un gran riesgo de seguridad, \u00bfsabr\u00edas razonar o averig\u00fcar por qu\u00e9 esto est\u00e1 dise\u00f1ado de esta forma? Almacenar contrase\u00f1as en texto plano en archivos de configuraci\u00f3n es inseguro, pero se hace a veces por razones pr\u00e1cticas: facilita el acceso r\u00e1pido en desarrollo, es compatible con herramientas antiguas, y puede mejorar el rendimiento en sistemas cerrados y de baja seguridad. Sin embargo, en entornos de producci\u00f3n, es mejor usar alternativas m\u00e1s seguras, como cifrado o gestores de secretos, para proteger las credenciales.</p>"},{"location":"practica3_2/","title":"Pr\u00e1ctica 3.2 - Despliegue de aplicaciones con Node Express","text":""},{"location":"practica3_2/#instalacion-de-nodejs-express-y-test-de-la-primera-aplicacion","title":"Instalaci\u00f3n de Node.js, Express y test de la primera aplicaci\u00f3n","text":"<p>Lo primero es parar tomcat si estaba en proceso e instalar Node con el comando sudo apt -y install nodejs npm.   Luego se clona el repositorio de la foto y se accede a el.  </p>"},{"location":"practica3_2/#despliegue-de-una-nueva-aplicacion","title":"Despliegue de una nueva aplicaci\u00f3n","text":"<p>Para desplegarlo primero se instalan las librer\u00edas necesarias dentro del propio proyecto.  </p> <p>Se ejecuta el comando de la imagen para que no de fallos.  </p> <p>Se ejecuta con npm run start.  </p> <p>Y como se puede ver se despliega usando la ip de la m\u00e1quina y el puerto 3000 que usa por defecto.  </p>"},{"location":"practica3_2/#cuestiones","title":"Cuestiones","text":""},{"location":"practica3_2/#cuando-ejecutais-el-comando-npm-run-start-lo-que-estais-haciendo-es-ejecutar-un-script","title":"Cuando ejecut\u00e1is el comando npm run start, lo que est\u00e1is haciendo es ejecutar un script:","text":""},{"location":"practica3_2/#donde-podemos-ver-que-script-se-esta-ejecutando","title":"\u00bfDonde podemos ver que script se est\u00e1 ejecutando?","text":"<p>Se puede ver el script que se ejecuta en la secci\u00f3n scripts del archivo package.json. Este archivo se encuentra en el directorio ra\u00edz del proyecto. Ejemplo: {   \"scripts\": {     \"start\": \"node server.js\",     \"test\": \"jest\"   } } </p>"},{"location":"practica3_2/#que-comando-esta-ejecutando","title":"\u00bfQu\u00e9 comando est\u00e1 ejecutando?","text":"<p>node server.js</p>"},{"location":"practica3_4/","title":"Pr\u00e1ctica 3.4: Despliegue de una aplicaci\u00f3n una aplicaci\u00f3n React en Netlify (PaaS)","text":""},{"location":"practica3_4/#creacion-de-nuestra-aplicacion","title":"Creaci\u00f3n de nuestra aplicaci\u00f3n","text":"<p>Lo primero es crear los siguientes archivos en un mismo directorio para crear la aplicaci\u00f3n:   Ahora se crea el package.json con npm init.   Y se comprueba qque funciona ejecutando node aplicacion.js y comprob\u00e1ndolo con la ip de la m\u00e1quina y el puerto que por defecto es el 8080.  </p>"},{"location":"practica3_4/#aplicacion-para-netlify","title":"Aplicaci\u00f3n para Netlify","text":"<p>Se clona el repositorio con el siguiente comando: git clone https://github.com/StackAbuse/color-shades-generator  Lo primero es registrarse en NETLIFY con el correo y sin usar el Github.   Luego se crea un token de acceso y se copia dicho token.  </p>"},{"location":"practica3_4/#despliegue-mediante-cli","title":"Despliegue mediante CLI","text":"<p>Se instala el CLI de NETLIFY.   Se guarda el token de antes para acceder.   Se hace el login con el comando siguiente:   Dentro del proyecto se instala las librer\u00edas.   Se ejecuta el proyecto.   Se hace un pre despliegue ahora con netlify deploy.   Y finalmente se despliega con netlify deploy --prod.   Se comprueba el despliegue.  </p>"},{"location":"practica3_4/#despliegue-mediante-conexion-con-github","title":"Despliegue mediante conexi\u00f3n con Github","text":"<p>Lo primero es eliminar la p\u00e1gina creada en netlify y el repositorio que se habia clonado.   Se descarga las fuentes en formato .zip.   Se crea un nuevo repositorio.   Se a\u00f1ade el contenido de la carpeta al repositorio.   Ahora se procede a conectar el repositorio con NETLIFY, se autoriza todo y luego se selecciona el repositorio creado antes.   Se comprueba que el nombre est\u00e1 disponible.   Se introducen los siguientes comandos en los campos de datos y se le da a deploy.   Ahora se accede a la carpeta public y se modifica el archivo robot.txt, se pone el nombre en disallow, se sube al repositorio con un commit y ya estar\u00eda hecho.  </p>"},{"location":"practica3_4/#despliegue-en-vercel","title":"Despliegue en Vercel","text":"<p>En Vercel es muy similiar, lo primero es registrarse y autorizar a Github volviendo a seleccionar el repositorio deseado.   Se ponen los siguientes comandos y nombre y se le da a deploy.   Por \u00faltimo se vuelve a modificar el robot.txt, se hace commit y ya estar\u00eda terminado </p>"},{"location":"practica3_5/","title":"Pr\u00e1ctica 3.5: Despliegue de una aplicaci\u00f3n Flask (Python)","text":""},{"location":"practica3_5/#instalaciones","title":"Instalaciones","text":"<p>Primero se actualiza los paquetes y se instala el gestor de paquetes de Python.   Luego se instala el paquete pipenv para entornos virtuales.   Se crea el directorio para el proyecto, se le da los permisos para que el propio usuario sea el due\u00f1o y pertenezca al grupo www-data. Luego se le dan permisos y se crea un archivo oculto.  </p>"},{"location":"practica3_5/#despliegue-con-flask-inicial","title":"Despliegue con Flask inicial","text":"<p>Se edita con las siguientes variables.   Se inicia el entorno virtual que carga las variables del fichero .env y se instalan las dependecias necesarias.   Se crea una aplicaci\u00f3n sencilla que tendr\u00e1 los siguientes archivos.   Se editan los archivos para que queden as\u00ed:   Se ejecuta la aplicaci\u00f3n.   Se comprueba en la m\u00e1quina anfitri\u00f3n con la ip de la virtual y el puerto 5000.   Ahora se comprueba que gunicorn funciona con el comando: gunicorn --workers 4 --bind 0.0.0.0:5000 wsgi:app. Despu\u00e9s se obtiene la ruta para configurar m\u00e1s adelante. Por \u00faltimo se para el entorno virtual.  </p>"},{"location":"practica3_5/#despliegue-con-nginx-inicial","title":"Despliegue con Nginx inicial","text":"<p>Suponiendo que est\u00e1 instalado Nginx de pr\u00e1cticas anteriores se inicia y se comprueba que est\u00e1 activo.   Se crea un fichero en systemd y se rellena as\u00ed pero usando los datos de cada uno como la ruta de antes.   Ahora se habilita y se inicia el servicio.   Ahora como en pr\u00e1cticas anteriores se crea un archivo de configuraci\u00f3n con los siguientes datos pero adaptados a cada usuario.   Y se crea el enlace simb\u00f3lico comprobando su creaci\u00f3n.   Se reinicia nginx y se a\u00f1ade la ip y el server_name al fichero host de la maquina anfitriona.   Se comprueba que se ha desplegado.  </p>"},{"location":"practica3_5/#despliegue-con-flask-repositorio","title":"Despliegue con Flask repositorio","text":"<p>Primero se clona el repositorio y se repite el proceso d\u00e1ndole los permisos oportunos.   Luego se accede a la carpeta de la pr\u00e1ctica, se crea el fichero .env y se modifica de nuevo.   Se inicia el entorno virtual.   Se instalan las dependecias.   Se modifican los ficheros y se inicia el entorno virtual.   Se comprueba que se ha desplegado bien.   Ahora se comprueba que gunicorn funciona con el comando: gunicorn --workers 4 --bind 0.0.0.0:5000 wsgi:app. Despu\u00e9s se obtiene la ruta para configurar m\u00e1s adelante con which unicorn y por \u00faltimo se para el entorno virtual.  </p>"},{"location":"practica3_5/#despliegue-con-nginx-repositorio","title":"Despliegue con Nginx repositorio","text":"<p>Se crea el archivo en systemd con los nuevos datos.   Se habilita y se inicia el servicio.   Se crea el archivo de configuraci\u00f3n con los siguientes datos.   Se cra el archivo simb\u00f3lico y se comprueba su existencia.   Se actualiza el nginx.   Se a\u00f1ade la ip de la m\u00e1quina virtual y el server_name al archivo host de la m\u00e1quina anfitriona.   Se comprueba que es correcto el despliegue.  </p>"},{"location":"practica3_5/#cuestiones","title":"Cuestiones","text":""},{"location":"practica3_5/#cuestion-1-busca-lee-entiende-y-explica-que-es-y-para-que-sirve-un-servidor-wsgi","title":"Cuestion 1. Busca, lee, entiende y explica qu\u00e9 es y para que sirve un servidor WSGI","text":"<p>WSGI (Web Server Gateway Interface) es un est\u00e1ndar de interfaz entre servidores web y aplicaciones web o frameworks desarrollados en Python, dise\u00f1ado para mejorar la interoperabilidad y la eficiencia de las aplicaciones web. Sirve para que las aplicaciones web escritas en Python se comuniquen con servidores web como Nginx o Apache, act\u00faa como un intermediario que traduce las solicitudes del servidor en un formato que la aplicaci\u00f3n puede entender y luego devuelve la respuesta al cliente y es esencial para ejecutar aplicaciones web Python en producci\u00f3n, asegurando compatibilidad y buen rendimiento.</p>"},{"location":"practica4_1/","title":"Pr\u00e1ctica 4.1 - Configuraci\u00f3n de un servidor DNS","text":""},{"location":"practica4_1/#instalacion-de-servidor-dns","title":"Instalaci\u00f3n de servidor DNS","text":"<p>Lo primero es conectarse por SSH a la m\u00e1quina f\u00edsica como se muestra en la foto.   Una vez conectado, se instala el servidor DNS con el siguiente comando.  </p>"},{"location":"practica4_1/#configuracion-del-servidor","title":"Configuraci\u00f3n del servidor","text":"<p>Lo primero para configurarlo es modificar el archivo named como se muestra en la imagen para indicar que solo se puede utilizar IPv4.   Para comprobar que la configuraci\u00f3n es correcta se mira que el siguiente archivo tenga las mismas l\u00edneas que la imagen.  </p>"},{"location":"practica4_1/#configuracion-namedconfoptions","title":"Configuraci\u00f3n named.conf.options","text":"<p>Para configurar el archivo named.conf.options se hace una copia de seguridad de emergencia lo primero.   Ahora se a\u00f1ade las primeras l\u00edneas para indicar que solo la ip que se usa sea aceptada. Lo \u00fanico que se modifica es el tercer d\u00edgito que se pone el de la propia red y luego el resto de l\u00edneas tienen que quedar como en la imagen para dar permisos o no a los clientes y para habilitar el DNSSEC.  Una vez modificado se comprueba que funciona y se reinicia para guardar las modificaciones.  </p>"},{"location":"practica4_1/#configuracion-namedconflocal","title":"Configuraci\u00f3n named.conf.local","text":"<p>Se habilita la zona deaw.es  y se indica que el servidor es maestro para la zona, indicando la ruta donde se encuentra el archivo.  </p>"},{"location":"practica4_1/#creacion-del-archivo-de-zona","title":"Creaci\u00f3n del archivo de zona","text":"<p>Se crea el archivo en la ruta indicada antes con las siguientes caracter\u00edsticas manteniendo la forma del texto.  </p>"},{"location":"practica4_1/#creacion-del-archivo-de-zona-para-la-resolucion-inversa","title":"Creaci\u00f3n del archivo de zona para la resoluci\u00f3n inversa","text":"<p>Se a\u00f1ade ahora la zona nueva con la IP de la red y se indica la ruta del archivo.   Nuevamente se crea el archivo con los siguientes datos manteniendo la estructura del texto.  </p>"},{"location":"practica4_1/#comprobacion-de-las-configuraciones","title":"Comprobaci\u00f3n de las configuraciones","text":"<p>Para comprobar la configuraci\u00f3n se ejecutan los siguientes comandos. Primero se comprueba cada zona de forma individual y luego relacion\u00e1ndolas. Si devuelve OK estar\u00e1 correcto.   Una vez comprobado se reinicia el servidor para guardar los cambios.  </p>"},{"location":"practica4_1/#comprobacion-de-las-resoluciones-y-de-las-consultas","title":"Comprobaci\u00f3n de las resoluciones y de las consultas","text":"<p>Para finalizar las comprobaciones se modifica el siguiente archivo a\u00f1adiendo la IP de casa para establecer el cliente.   Por \u00faltimo se hace la comprobaci\u00f3n primero con dig, se hace con deaw.es y sale como en la imagen donde indica que se ha producido una respuesta y luego con la IP saldr\u00eda igual.   Y con nslookup se hace como en la imagen con deaw.es y con la IP se har\u00eda igual.  </p>"},{"location":"practica4_1/#cuestiones","title":"Cuestiones","text":""},{"location":"practica4_1/#cuestion-1-que-pasara-si-un-cliente-de-una-red-diferente-a-la-tuya-intenta-hacer-uso-de-tu-dns-de-alguna-manera-le-funcionarapor-que-en-que-parte-de-la-configuracion-puede-verse","title":"Cuesti\u00f3n 1. \u00bfQu\u00e9 pasar\u00e1 si un cliente de una red diferente a la tuya intenta hacer uso de tu DNS de alguna manera, le funcionar\u00e1?\u00bfPor qu\u00e9, en qu\u00e9 parte de la configuraci\u00f3n puede verse?","text":"<p>No porque se restringe a clientes confiables con la directiva allow-recursion {confiables;}; y solo mi IP est\u00e1 registrada.</p>"},{"location":"practica4_1/#cuestion-2-por-que-tenemos-que-permitir-las-consultas-recursivas-en-la-configuracion","title":"Cuesti\u00f3n 2. \u00bfPor qu\u00e9 tenemos que permitir las consultas recursivas en la configuraci\u00f3n?","text":"<p>Para que el servidor pueda resolver los nombres de dominios que no est\u00e1n en su zona autoritaria.</p>"},{"location":"practica4_1/#cuestion-3-el-servidor-dns-que-acabais-de-montar-es-autoritativopor-que","title":"Cuesti\u00f3n 3. El servidor DNS que acab\u00e1is de montar, \u00bfes autoritativo?\u00bfPor qu\u00e9?","text":"<p>S\u00ed porque se indica type master en la zona espec\u00edfica.</p>"},{"location":"practica4_1/#cuestion-4-donde-podemos-encontrar-la-directiva-origin-y-para-que-sirve","title":"Cuesti\u00f3n 4. \u00bfD\u00f3nde podemos encontrar la directiva $ORIGIN y para qu\u00e9 sirve?","text":"<p>Se encuentra en los archivos de zona DNS y se encarga de definir el dominio ra\u00edz de los registros del archivo. </p>"},{"location":"practica4_1/#cuestion-5-una-zona-es-identico-a-un-dominio","title":"Cuesti\u00f3n 5. \u00bfUna zona es id\u00e9ntico a un dominio?","text":"<p>No, un dominio puede dividirse en m\u00faltiple zonas porque el dominio es el conjunto de nombre y subdominios bajo un TLD</p>"},{"location":"practica4_1/#cuestion-6-pueden-editarse-los-archivos-de-zona-de-un-servidor-esclavosecundario","title":"Cuesti\u00f3n 6. \u00bfPueden editarse los archivos de zona de un servidor esclavo/secundario?","text":"<p>Directamente no, se debe hacer desde el servidor maestro.</p>"},{"location":"practica4_1/#cuestion-7-por-que-podria-querer-tener-mas-de-un-servidor-esclavo-para-una-misma-zona","title":"Cuesti\u00f3n 7. \u00bfPor qu\u00e9 podr\u00eda querer tener m\u00e1s de un servidor esclavo para una misma zona?","text":"<p>Por si falla uno tener otro disponible, para tener un balanceo de carga y para evitar la redundancia de datos. </p>"},{"location":"practica4_1/#cuestion-8-cuantos-servidores-raiz-existen","title":"Cuesti\u00f3n 8. \u00bfCu\u00e1ntos servidores ra\u00edz existen?","text":"<p>Existen 13 servidores ra\u00edz.</p>"},{"location":"practica4_1/#cuestion-9-que-es-una-consulta-iterativa-de-referencia","title":"Cuesti\u00f3n 9. \u00bfQu\u00e9 es una consulta iterativa de referencia?","text":"<p>Una consulta iterativa de referencia es cuando un servidor DNS no realiza una b\u00fasqueda completa por s\u00ed mismo y responde con la direcci\u00f3n de otro servidor DNS m\u00e1s espec\u00edfico. </p>"},{"location":"practica4_1/#cuestion-10-en-una-resolucion-inversa-a-que-nombre-se-mapearia-la-direccion-ip-172163456","title":"Cuesti\u00f3n 10. En una resoluci\u00f3n inversa, \u00bfa qu\u00e9 nombre se mapear\u00eda la direcci\u00f3n IP 172.16.34.56?","text":"<p>Se mapear\u00eda como 56.34.16.172.in-addr.arpa.</p>"},{"location":"practica5_1/","title":"Enunciado ejercicios Git y GitHub I y II","text":""},{"location":"practica5_1/#repositorio-deaw","title":"Repositorio DEAW","text":"<p>Lo primero es crear el repositorio p\u00fablico en Github con el nombre de DEAW.   Se clona dentro de una carpeta.  </p>"},{"location":"practica5_1/#readme","title":"README","text":"<p>Se crea un README.md con contenido.  </p>"},{"location":"practica5_1/#commit-inicial","title":"Commit inicial","text":"<p>Se crea el commit para la subida.  </p>"},{"location":"practica5_1/#push-inicial","title":"Push inicial","text":"<p>Se sube al repositorio con git push y se comprueba como se ha subido.  </p>"},{"location":"practica5_1/#ignorar-archivos","title":"Ignorar archivos","text":"<p>Se crea un fichero privado.txt y una carpeta llamada privada y se a\u00f1ade dentro del .gitignore para que lo ignore.   Se sube y se comprueba que no se hayan subido el fichero y la carpeta.  </p>"},{"location":"practica5_1/#anadir-fichero-1txt","title":"A\u00f1adir fichero 1.txt","text":"<p>Se crea un fichero 1.txt y se a\u00f1ade con git add.  </p>"},{"location":"practica5_1/#crear-el-tag-v01","title":"Crear el tag v0.1","text":"<p>Se crea un tag con git tag y se a\u00f1ade.  </p>"},{"location":"practica5_1/#subir-el-tag-v01","title":"Subir el tag v0.1","text":"<p>Se sube con git push el tag.  </p>"},{"location":"practica5_1/#cuenta-de-github","title":"Cuenta de GitHub","text":"<p>Se cambia la foto de perfil dentro del propio Github y se a\u00f1ade la doble autentificaci\u00f3n.  </p>"},{"location":"practica5_1/#crear-una-tabla","title":"Crear una tabla","text":"<p>Se modifica el Readme a\u00f1adiendo nuevos usuarios y su correo y se sube.  </p>"},{"location":"practica5_1/#colaboradores","title":"Colaboradores","text":"<p>Se invita como colaborador a un usuario dentro de Github.  </p>"},{"location":"practica5_1/#crear-una-rama-v02","title":"Crear una rama v0.2","text":"<p>Se crea una rama con git branch.  </p>"},{"location":"practica5_1/#anadir-fichero-2txt","title":"A\u00f1adir fichero 2.txt","text":"<p>Se crea un fichero 2.txt y se sube al repositorio y se comprueba su subida.  </p>"},{"location":"practica5_1/#merge-directo","title":"Merge directo","text":"<p>Se cambia a la rama main y se hace un merge llamado v0.2 .  </p>"},{"location":"practica5_1/#merge-con-conflicto","title":"Merge con conflicto","text":"<p>Se modifica los ficheros creados antes poniendo hola y adi\u00f3s y se suben y se fusionan las ramas.  </p>"},{"location":"practica5_1/#listado-de-ramas","title":"Listado de ramas","text":"<p>Se muestra las ramas con git branch.  </p>"},{"location":"practica5_1/#arreglar-conflicto","title":"Arreglar conflicto","text":"<p>Se modifica el fichero y se a\u00f1ade solucionando el conflicto.  </p>"},{"location":"practica5_1/#borrar-rama","title":"Borrar rama","text":"<p>Ahora se crea el tag v0.2 y se sube.    Y luego se elimina la rama v0.2.  </p>"},{"location":"practica5_1/#listado-de-cambios","title":"Listado de cambios","text":"<p>Se muestran todos los cambios con git log --oneline --decorate -graph -all.  </p>"},{"location":"practica5_1/#ejercicios-de-creacion-y-actualizacion-de-repositorios","title":"Ejercicios de creaci\u00f3n y actualizaci\u00f3n de repositorios","text":""},{"location":"practica5_1/#ejercicio-1","title":"Ejercicio 1","text":"<p>Se configura Git aladiendo usuario, el correo y activando el color de salida.  </p>"},{"location":"practica5_1/#ejercicio-2","title":"Ejercicio 2","text":"<p>Se crea el repositorio libro y se muestra el contenido.  </p>"},{"location":"practica5_1/#ejercicio-3","title":"Ejercicio 3","text":"<p>Se crea indice.txt con la informaci\u00f3n de la imagen y se sube a la zona de intercambio temporal.  </p>"},{"location":"practica5_1/#ejercicio-4","title":"Ejercicio 4","text":"<p>Se realiza el commit de la imagen y se sube.  </p>"},{"location":"practica5_1/#ejercicio-5","title":"Ejercicio 5","text":"<p>Se modifica el fichero de antes con la nueva informaci\u00f3n y se muestran las diferencias con la versi\u00f3n anterior. Luego se hace el commit.  </p>"},{"location":"practica5_1/#ejercicio-6","title":"Ejercicio 6","text":"<p>Se muestra los cambios con la versi\u00f3n anterior, se modifica el mensaje del commit y se vuelven a mostrar los cambios.  </p>"},{"location":"practica5_1/#ejercicios-de-manejo-del-historial-de-cambios","title":"Ejercicios de manejo del historial de cambios","text":""},{"location":"practica5_1/#ejercicio-1_1","title":"Ejercicio 1","text":"<p>Se muestra el historial de cambios, se crea la carpeta capitulos y dentro el fichero capitulo1.txt con la informaci\u00f3n de la imagen de debajo. Finalmente se hace el commit y se muestra el historial.  </p>"},{"location":"practica5_1/#ejercicio-2_1","title":"Ejercicio 2","text":"<p>Se crea el fichero capitulo2.txt con la informaci\u00f3n de debajo, se sube, se crea el commit y se muestra la diferencia entre esta versi\u00f3n y dos anteriores.  </p>"},{"location":"practica5_1/#ejercicio-3_1","title":"Ejercicio 3","text":"<p>Se crea el fichero capitulo3.txt con la informaci\u00f3n de debajo se sube sube, se hace el commit y se muestra la diferencia entre la primera y \u00faltima versi\u00f3n.  </p>"},{"location":"practica5_1/#ejercicio-4_1","title":"Ejercicio 4","text":"<p>Se modifica indice.txt a\u00f1adiendo la nueva l\u00ednea, se crea el commit y se comprueba quien lo ha modificado con git blame.  </p>"},{"location":"practica5_1/#ejercicios-de-deshacer-cambios","title":"Ejercicios de deshacer cambios","text":""},{"location":"practica5_1/#ejercicio-1_2","title":"Ejercicio 1","text":"<p>Se elimina la \u00faltima linea de indice.txt se comprueba el estado y se vuelve a la versi\u00f3n anterior con git restore.  </p>"},{"location":"practica5_1/#ejercicio-2_2","title":"Ejercicio 2","text":"<p>Se elimina la \u00faltima l\u00ednea de indice.txt, se sube, se comprueba el estado del repositorio, se quitan los cambios de la zona de intercambio temporal, se comprueba el estado y se vuelve a la versi\u00f3n original.  </p>"},{"location":"practica5_1/#ejercicio-3_2","title":"Ejercicio 3","text":"<p>Se elimina la \u00faltima linea de indice.txt, se guarda, se elimina el fichero capitulo3.txt, se a\u00f1ade uno nuevo llamado capitulo4.txt y se sube, se comprueba estado y se vuelve a la versi\u00f3n original.  </p>"},{"location":"practica5_1/#ejercicio-4_2","title":"Ejercicio 4","text":"<p>Se elimina la \u00faltima l\u00ednea de indice.txt, se elimina el fichero capitulo3.txt y se sube con el commit de la imagen, se comprueba el estado y se deshacen los cambios y se vuelve a hacer el mismo commit. Se vuelven a deshacer los cambios y se comprueba el historial y el estado.  </p>"},{"location":"practica5_1/#ejercicios-de-gestion-de-ramas","title":"Ejercicios de gesti\u00f3n de ramas","text":""},{"location":"practica5_1/#ejercicio-1_3","title":"Ejercicio 1","text":"<p>Se crea la rama bibliograf\u00eda y se muestran las ramas existentes.  </p>"},{"location":"practica5_1/#ejercicio-2_3","title":"Ejercicio 2","text":"<p>Se crea el fichero capitulo4.txt con la informaci\u00f3n de debajo y se sube a la zona de intercambio temporal haciendo el commit y mostrando el historial.  </p>"},{"location":"practica5_1/#ejercicio-3_3","title":"Ejercicio 3","text":"<p>Se cambia a la rama creada antes y se crea el fichero bibliograf\u00eda.txt con la informaci\u00f3n de debajo y se sube haciendo el commit y mostrando el historial.  </p>"},{"location":"practica5_1/#ejercicio-4_3","title":"Ejercicio 4","text":"<p>Se fusiona con la rama master, luego se muestra el historial, se elimina la rama bibliograf\u00eda y se muestra el historial de nuevo.  </p>"},{"location":"practica5_1/#ejercicio-5_1","title":"Ejercicio 5","text":"<p>Se crea la rama bibliograf\u00eda y se cambia modificando el fichero como en la segunda imagen de debajo, se a\u00f1aden los cambios con el commit y se cambia a la rama master donde se modifica el mismo fichero como en la tercera imagen. Por \u00faltimo se fusionan las ramas y se modifica el conflicto como en la cuarta imagen y se sube haciendo el commit y mostrando el historial por \u00faltimo.  </p>"},{"location":"practica5_1/#ejercicios-de-repositorios-remotos","title":"Ejercicios de repositorios remotos","text":""},{"location":"practica5_1/#ejercicio-1_4","title":"Ejercicio 1","text":"<p>Se crea el nuevo repositorio en GitHub.   Se clona el repositorio en libro.  </p>"},{"location":"practica5_1/#ejercicio-2_4","title":"Ejercicio 2","text":"<p>Se sube todo lo de libro haciendo el commit y se comprueba que est\u00e1 subido.  </p>"},{"location":"practica5_1/#ejercicio-3_4","title":"Ejercicio 3","text":"<p>Se clona otro repositorio y se sube este fichero con el nombre y correo del autor.  </p>"},{"location":"practica5_1/#ejercicio-4_4","title":"Ejercicio 4","text":"<p>Por \u00faltimo se hace una bifurcaci\u00f3n en fork, se clona luego creando la rama auditoria y activandola y modificando el fichero de autores con el nombre para finalmente subirlo todo con el commit.  </p>"},{"location":"practica6_1/","title":"Pr\u00e1ctica 6.1 - Dockerizaci\u00f3n del despliegue de una aplicaci\u00f3n Node.js","text":""},{"location":"practica6_1/#despliegue-con-docker","title":"Despliegue con Docker","text":"<p>Lo primero es conectarse por ssh a la m\u00e1quina virtual.   Se clona el repositorio de la imagen con git clone.   Se instala docker con el comando de la imagen.   Se modifica el dockerfile del repositorio para que quede como en la imagen para poder construir la imagen y correr el contenedor.   Y se procede a hacer build de la imagen con el siguiente comando poniendole el nombre de librodirecciones.   Se le asigna el puerto 3000 con el siguiente comando.   Y se buscamos en el explorador, todav\u00eda no sale nada.  </p>"},{"location":"practica6_1/#docker-compose","title":"Docker Compose","text":"<p>Lo primero es instalar docker compose si no se tiene. La versi\u00f3n de la imagen es v\u00e1lida.   Se crea un fichero .yml con la siguiente estructura para describir la aplicaci\u00f3n.   Se ejecuta lo creado con el comando de debajo para ejecutar las tablas.   Se construye los contenedores con el siguiente comando.   Por \u00faltimo se corren los test para verificar el correcto funcionamiento. </p>"},{"location":"practica6_1/#tarea","title":"Tarea","text":"<p>Para probar que funciona correctamente la base de datos lo primero es a\u00f1adir un usuario como el del ejemplo con dicha sentencia.   Se comprueba los usuarios de la base de datos en general primero y luego el que tiene id 1.  Por \u00faltimo se elimina el usuario creado y se muestra que se han eliminado todos.  </p>"},{"location":"practica6_2/","title":"Pr\u00e1ctica 6.2 - Despliegue de una aplicaci\u00f3n PHP con Nginx y MySQL usando Docker y docker-compose","text":""},{"location":"practica6_2/#proceso-de-dockerizacion-de-nginxphpmysql","title":"Proceso de dockerizaci\u00f3n de Nginx+PHP+MySQL","text":"<p>Lo primero es conectarse por ssh a la m\u00e1quina.  </p>"},{"location":"practica6_2/#estructura-de-directorios","title":"Estructura de directorios","text":"<p>Ahora se crea la estructura de directorios creando la carpeta practica6-2 primero y luego con estos comandos.   Deber\u00e1 quedar as\u00ed la estructura.  </p>"},{"location":"practica6_2/#creacion-de-un-contenedor-nginx","title":"Creaci\u00f3n de un contenedor Nginx","text":"<p>Para crear el contendero primero se modifica el fichero docker-compose.yml tal que as\u00ed.   Se inicia con docker-compose up -d y se comprueba con docker ps.   Y se comprueba que funciona correctamente escribiendo http://IP:Puerto.  </p>"},{"location":"practica6_2/#creacion-de-un-contenedor-php","title":"Creaci\u00f3n de un contenedor PHP","text":"<p>Para el contenedor PHP se modifica el index.php como en la imagen.   Luego se modifica el default.conf de la carpeta nginx como en la imagen.   Y se modifica el Dockerfile de la carpeta nginx.   Por \u00faltimo antes de probarlo se vuelve a modificar el docker-compose.yml de nuevo.   Se inicia el contenido.   Se comprueba que funciona.   Se comprueba en el navegador escribiendo http://IP:Puerto.  </p>"},{"location":"practica6_2/#creacion-de-un-contenedor-para-datos","title":"Creaci\u00f3n de un contenedor para datos","text":"<p>Lo primero es volver a modificar el docker-compose.yml de nuevo.   Se inicia y se comprueba de nuevo antes de crear el contenedor de mysql.  </p>"},{"location":"practica6_2/#creacion-de-un-contenedor-mysql","title":"Creaci\u00f3n de un contenedor MySQL","text":"<p>Lo primero es modificar el dockerfile de la carpeta php.   Se vuelve a modificar el docker-compose.yml.   Se modifica el index.php de nuevo y se inicia el contenedor.  </p>"},{"location":"practica6_2/#verificacion-de-conexion-a-la-base-de-datos","title":"Verificaci\u00f3n de conexi\u00f3n a la base de datos","text":"<p>Se comprueba en el navegador escribiendo http://IP:Puerto.   Para solucionar el error se modifica el index.php a\u00f1adiendo $user = 'root'; y $password = 'secret';   Se comprueba por \u00faltima vez en el navegador escribiendo http://IP:Puerto.  </p>"},{"location":"practica6_3/","title":"Pr\u00e1ctica 6.3 - Despliegue de servidores web con usuarios autenticados mediante LDAP usando Docker y docker-compose","text":""},{"location":"practica6_3/#despliegue-con-docker-de-nginx-demonio-de-autenticacion-ldap-openldap","title":"Despliegue con Docker de NGINX + demonio de autenticaci\u00f3n LDAP + OpenLDAP","text":"<p>Lo primero es conectarse por ssh a la m\u00e1quina.   Luego se crea la carpeta Practica6.3 con la siguiente estructura.   Se rellena el index.html para que muestre un hola mundo y el archivo ldap_nginx.conf se rellena con el siguiente contenido.   Por \u00faltimo el docker-compose para poder levantar los contenedores.   Se levanta y se comprueba su funcionamiento.   Por \u00faltimo se comprueba en el explorador escribiendo http://IP:8082. Se registra con los credenciales de antes y ya estar\u00eda.  </p>"},{"location":"practica6_3/#despliegue-con-docker-de-php-apache-con-autenticacion-ldap","title":"Despliegue con Docker de PHP + Apache con autenticaci\u00f3n LDAP","text":"<p>Se rellena ahora el archivo index.php con el siguiente contenido.   Se rellena el Dockerfile de la carpeta Docker.   Se rellena el archivo ldap_demo.conf de la carpeta Docker.   Se crea un fichero .htaccess para que pida la autentificaci\u00f3n.   Se construye ka imagen con el contenido del fichero.   Se levanta el contenedor con el siguiente comando.   Por \u00faltimo se comprueba su funcionamiento escribiendo http://IP:3000/demo y despu\u00e9s de autentificarse ya estar\u00eda terminado.  </p>"},{"location":"practicaampliada/","title":"Pr\u00e1ctica Ampliada","text":""},{"location":"practicaampliada/#instalacion-de-nginx-y-preparacion","title":"Instalaci\u00f3n de Nginx y preparaci\u00f3n.","text":"<p>Lo primero se conecta por ssh a la m\u00e1quina desde Windows.   Como ya estaba nginx instalado de pr\u00e1cticas anteriores se comprueba la versi\u00f3n.  </p>"},{"location":"practicaampliada/#creacion-de-usuarios-del-sistema","title":"Creaci\u00f3n de usuarios del sistema.","text":"<p>Se procede ahora a la creaci\u00f3n de los usuarios con sus contrase\u00f1as usando el comando useradd. En este caso los usuarios se llamar\u00e1n Usuario1 y Usuario2.  </p>"},{"location":"practicaampliada/#estructura-de-carpetas-y-archivos","title":"Estructura de carpetas y archivos.","text":"<p>Dentro de cada usuario se crea una carpeta en home llamada public_html con el comando mkdir.   Se le asignan los permisos para que Nginx pueda acceder a ellas con el comando setfacl -d -R -m u:www-data:rw public_html. Se hace en ambas carpetas y se muestra que se ha asignado correctamente con el comando getfacl public_html.  Ahora se crean dos html sencillos en cada carpeta y que sean diferentes. Esto se hace para poder comprobar luego que las p\u00e1ginas web de cada usuario se pueden desplegar.  </p>"},{"location":"practicaampliada/#creacion-y-configuracion-de-los-hosts","title":"Creaci\u00f3n y configuraci\u00f3n de los hosts.","text":"<p>Se crean los certificados a cada usuario mediante el comando openssl req -x509 -newkey rsa:4096 -keyout /etc/ssl/private/usuario.pem -out /etc/ssl/certs/usuario.pem -sha256 -days 365 --nodes, con el nombre de cada usuario.pem.  </p> <p>Ahora se crean los archivos de configuraci\u00f3n para cada usuario en la carpeta /etc/nginx/sites-available, implementando la conexi\u00f3n segura por HTTPS e indicando el nombre de la p\u00e1gina web que habra que buscar.  </p> <p>Ahora se crea el enlace simb\u00f3lico de ambos con la carpeta enabled mediante el comando ln -s /etc/nginx/sites-available/nombreweb /etc/nginx/sites-enabled/nombreweb.  </p> <p>Por \u00faltimo se a\u00f1ade la ip y el nombre de las p\u00e1ginas al archivo host de windows para que puedan buscarse dichas p\u00e1ginas.  </p>"},{"location":"practicaampliada/#comprobacion","title":"Comprobaci\u00f3n.","text":"<p>Para finalizar la pr\u00e1ctica busca ambas p\u00e1ginas web en windows mediante el nombre asignado en el archivo de configuraci\u00f3n y se verifica que todo est\u00e1 correcto y funciona.  </p>"}]}